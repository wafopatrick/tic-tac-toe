<div class="flex justify-center mt-4">
  <!-- Board Container: A 3x3 grid using CSS Grid -->
  <div class="grid grid-cols-3 w-64">
    <!-- Loop through rows -->
    <ng-container *ngFor="let row of gameService.board; let rowIndex = index">
      <!-- Loop through columns in each row -->
      <button
        *ngFor="let cell of row; let colIndex = index"
        class="w-24 h-24 flex items-center justify-center border-2 border-gray-400 bg-white cursor-pointer"
        (click)="onCellClick(rowIndex, colIndex)"
        (keydown)="onKeyDown($event, rowIndex, colIndex)"
        [ngClass]="{
          'bg-gray-300': cell === 'X',
          'bg-gray-500': cell === 'O',
          'bg-green-500': gameService.winner && gameService.isWinningCell(rowIndex, colIndex),
          'border-blue-500': rowIndex === selectedRow && colIndex === selectedCol
        }"
        [attr.aria-label]="'Cell ' + rowIndex + ',' + colIndex"
        tabindex="0"
      >
        {{ cell }}
      </button>
    </ng-container>
  </div>
</div>

<div class="flex justify-center mt-4">
  <!-- Reset button -->
  <button
    class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
    (click)="resetGame()"
  >
    Reset Game
  </button>
</div>

<!-- Show winner message if there is a winner -->
<div *ngIf="gameService.winner" class="mt-4 text-center text-xl font-bold">
  <p>{{ gameService.winner }} Wins!</p>
</div>